## 计算机网络和因特网

### 1.1 什么是因特网

- 我们能够描述因特网的具体构成，及构成因特网的基本硬件和软件组件
- 我们能够根据为分布式应用提供服务的联网基础设施来描述因特网

#### 1.1.1 具体构成描述

​	*端系统*通过**通信链路**和**分组交换机**连接到一起。不同的链路能够以不同的速率传输数据，链路的**传输速率**为比特/秒（bit/s，或bps）度量。当一台端系统向另一台端系统发送数据时，发送端系统将数据分段，并为每段加上首部字节。由此形成的信息包称为**分组**。这些分组通过网络发送到目的端系统，在那里被装配成初始数据。

> ​	在当今的因特网中，两种最著名的*分组*交换机类型是**路由器**和**链路层交换机**。这两种类型的交换机朝着最终目的地转发*分组*。

#### 1.1.3 什么是协议

> ​	协议定义了在两个或多个通行实体之间交换的报文的格式和顺序，以及报文发送和/或接收一条报文或其他事件所采取的动作。

​	掌握计算机网络领域知识的过程就是理解网络协议的构成、原理和工作方式的过程。

### 1.2 网络边缘

​	通常把与因特网相连的计算机和其他设备称为端系统。因为他们位于因特网的边缘，故而被称为端系统。

#### 1.2.2 物理媒体

​	物理媒体分为两种类型：引导型媒体和非引导型媒体。对于引导型媒体，电波沿着固体媒体前行，如光缆、双绞铜线或同轴电缆。对于非引导型媒体，电波在空气或外层空间中传播，例如在无线局域网或数字卫星频道中。

### 1.3 网络核心

​	我们现在更深入地研究网络核心，即由互联因特网端系统的分组交换机和链路构成的网状网路。

#### 1.3.1 分组交换

​	在各种网络应用中，端系统彼此交换**报文**。报文能够包含协议设计者需要的任何东西。为了从源端系统向目的端系统发送一个报文，源将长报文划分为较小的数据块，称之为分组。*在源和目的地之间，每个分组都通过通信链路和分组交换机传送*。

 1. 存储转发传输

    ​	多数分组交换机在链路的输入端使用存储转发传输机制。存储转发传输是指在交换机能够开始向输出链路传输该分组的第一个比特之前，必须接收到整个分组。

    ​	我们现在来考虑下列一般情况：通过有*N*条速率均为*R*的链路组成的路径（所以，在源和目的地之间有*N-1*台路由器），从源到目的地发送一个分组。应用如上相同的逻辑，我们看到端到端时延是：

    ​						d`端到端` = N*L/R

	2. 排队时延和分组丢失

    ​	每台分组交换机有多条链路与之相连。对于每条相连的链路，该分组交换机具有一个**输出缓存**，它用于存储路由器准备发往那条链路的分组。如果到达的分组需要传输到某条链路，但发现该链路正忙于传输其他分组，该到达分组必须在输出缓存中等待。因此，除了存储转发时延以外，分组还要承受输出缓存的**排队时延**。这些时延取决于网络的拥塞程度。因为缓存空间的大小是有限的，一个到达的分组可能发现该缓存已被其他等待传输的分组完全充满了。此时，将出现**分组丢失（丢包）**，到达的分组或已经排队的分组之一将被丢弃。

	3. 转发表和路由选择协议

    ​	每台路由器具有一个**转发表**，用于将目的地址（或目的地址的一部分）映射成为输出链路。当某分组到达一台路由器时，路由器检查改地址，并用这个目的地址搜索其转发表，以发现适当的出链路。路由器则将分组导向该出链路。

    ​	一个路由选择协议可以决定从每台路由器到每个目的地的最短路径，并使用这些最短路径结果来配置路由器的转发表。

